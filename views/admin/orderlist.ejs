<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Basic metadata and styles -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <title>Order List - MotoRush</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/responsive.css">
    <link rel="icon" href="/images/fevicon.png" type="image/gif" />
    <link rel="stylesheet" href="/css/jquery.mCustomScrollbar.min.css">
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/css/owl.theme.default.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
</head>

<body class="main-layout">

    <!-- header --> <%- include('../partials/aheader') %> <!-- end header -->

    <!-- Main Content -->
    <div class="container my-5">
        <h1 class="text-center mb-4">Customers Orders</h1>
        <table class="table table-bordered table-striped">
            <thead class="thead-dark">
                <tr>
                    <th>Order ID</th>
                    <th>Order Date</th>  <!-- New Column for Order Date -->
                    <th>Customer Name</th>
                    <th>Total Cost</th>
                    <th>Product Name</th>  <!-- New Column for Product Name -->
                    <th>Order Quantity</th> <!-- New Column for Order Quantity -->
                    <th>Customer Address</th> <!-- New Column for Customer Address -->
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <% orders.forEach(order => { %>
                    <tr>
                        <td><%= order.order_id %></td>
                        <td><%= order.order_date %></td>  <!-- Display Order Date -->
                        <td><%= order.customer_name %></td>
                        <td>â‚±<%= order.order_total %></td>
                        <td>
                            <% if (order.product_name) { %>
                                <ul>
                                    <li><%= order.product_name %></li>  <!-- Correctly display the product_name -->
                                </ul>
                            <% } else { %>
                                <p>No product available</p>  <!-- In case product_name is empty -->
                            <% } %>
                        </td>
                        <td>
                            <% if(order.order_quantity) { %>
                                <ul>
                                    <li><%= order.order_quantity %></li>  <!-- Display Order Quantity -->
                                </ul>
                            <% } %>
                        </td>
                        <td><%= order.customer_address %></td>  <!-- Display Customer Address -->
                        <td><%= order.order_status %></td>
                        <td>
                            <!-- Edit Order -->
                            <a href="/editorder/<%= order.order_id %>" class="btn btn-sm btn-primary">Edit</a>
                            <!-- Delete Order -->
                            <form action="/deleteorder/<%= order.order_id %>" method="POST" style="display: inline;">
                                <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure you want to delete this order?');">Delete</button>
                            </form>
                        </td>
                    </tr>
                <% }); %>
            </tbody>
        </table>
    </div>

    <!-- footer --> <%- include('../partials/footer') %> <!-- end footer -->

    <!-- Scripts -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/popper.min.js"></script>
    <script src="/js/bootstrap.bundle.min.js"></script>
    <script src="/js/jquery-3.0.0.min.js"></script>
    <script src="/js/plugin.js"></script>
    <script src="/js/jquery.mCustomScrollbar.concat.min.js"></script>
    <script src="/js/custom.js"></script>
    <script src="/js/owl.carousel.js"></script>
    <script src="https:cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>
</body>

</html>
